{"ast":null,"code":"import _slicedToArray from\"/Users/Abhinav/Documents/GitHub/saasshop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as actionTypes from'../actions/actionTypes';import firebase from\"../../firebase/firebase\";export var addItem=function addItem(itemID,size,amount){return{type:actionTypes.ADD_ITEM,itemID:itemID,size:size,amount:amount};};export var pullShopItems=function pullShopItems(){var dataObject={};var initialData={};return function(dispatch){firebase.firestore().collection(\"inventory\").get().then(function(snapshot){snapshot.forEach(function(item){var data=initialData;data[item.id]=item.data();});}).then(function(){Object.entries(initialData).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];dataObject[key]=value;});}).then(function(){dispatch(getData(dataObject));});};};export var getData=function getData(data){console.log(\"action called\");return{data:data,type:actionTypes.PULL_SHOP_ITEMS};};","map":{"version":3,"sources":["/Users/Abhinav/Documents/GitHub/saasshop/client/src/store/actions/shop.js"],"names":["actionTypes","firebase","addItem","itemID","size","amount","type","ADD_ITEM","pullShopItems","dataObject","initialData","dispatch","firestore","collection","get","then","snapshot","forEach","item","data","id","Object","entries","key","value","getData","console","log","PULL_SHOP_ITEMS"],"mappings":"sKAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,wBAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,MAAD,CAASC,IAAT,CAAeC,MAAf,CAA0B,CAC7C,MAAO,CACHC,IAAI,CAAEN,WAAW,CAACO,QADf,CAEHJ,MAAM,CAAEA,MAFL,CAGHC,IAAI,CAAEA,IAHH,CAIHC,MAAM,CAAEA,MAJL,CAAP,CAMH,CAPM,CASP,MAAO,IAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAK,CAC9B,GAAMC,CAAAA,UAAU,CAAG,EAAnB,CACA,GAAMC,CAAAA,WAAW,CAAG,EAApB,CACA,MAAO,UAAAC,QAAQ,CAAI,CACfV,QAAQ,CACTW,SADC,GAEDC,UAFC,CAEU,WAFV,EAGDC,GAHC,GAIDC,IAJC,CAII,SAACC,QAAD,CAAc,CAClBA,QAAQ,CAACC,OAAT,CAAiB,SAACC,IAAD,CAAU,CACzB,GAAMC,CAAAA,IAAI,CAAGT,WAAb,CACAS,IAAI,CAACD,IAAI,CAACE,EAAN,CAAJ,CAAgBF,IAAI,CAACC,IAAL,EAAhB,CACD,CAHD,EAID,CATC,EASCJ,IATD,CASM,UAAM,CACVM,MAAM,CAACC,OAAP,CAAeZ,WAAf,EAA4BO,OAA5B,CAAoC,cAAkB,kCAAhBM,GAAgB,UAAXC,KAAW,UACpDf,UAAU,CAACc,GAAD,CAAV,CAAkBC,KAAlB,CACD,CAFD,EAGH,CAbC,EAaCT,IAbD,CAaM,UAAM,CACZJ,QAAQ,CAACc,OAAO,CAAChB,UAAD,CAAR,CAAR,CACD,CAfC,EAgBH,CAjBD,CAkBH,CArBM,CAuBP,MAAO,IAAMgB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACN,IAAD,CAAS,CAC5BO,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA,MAAO,CACHR,IAAI,CAACA,IADF,CAEHb,IAAI,CAAEN,WAAW,CAAC4B,eAFf,CAAP,CAIH,CANM","sourcesContent":["import * as actionTypes from '../actions/actionTypes';\nimport firebase from \"../../firebase/firebase\";\n\nexport const addItem = (itemID, size, amount) => {\n    return {\n        type: actionTypes.ADD_ITEM,\n        itemID: itemID,\n        size: size,\n        amount: amount\n    };\n};\n\nexport const pullShopItems = () =>{\n    const dataObject = {}\n    const initialData = {}\n    return dispatch => {\n        firebase\n      .firestore()\n      .collection(\"inventory\")\n      .get()\n      .then((snapshot) => {\n        snapshot.forEach((item) => {\n          const data = initialData;\n          data[item.id] = item.data();\n        });\n      }).then(() => {\n          Object.entries(initialData).forEach(([key, value]) => {\n            dataObject[key] = value;\n          })\n      }).then(() => {\n        dispatch(getData(dataObject))\n      })\n    }\n}\n\nexport const getData = (data) =>{\n    console.log(\"action called\")\n    return {\n        data:data,\n        type: actionTypes.PULL_SHOP_ITEMS\n    }\n}"]},"metadata":{},"sourceType":"module"}